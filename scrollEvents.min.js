!function(e){function t(e,t,i){e.isVisible&&e.b<=se.t&&(t&&(e.isVisible=!1),i&&e.up(e))}function i(e,t,i){e.isVisible&&e.t>=se.b&&(t&&(e.isVisible=!1),i&&e.down(e))}function s(e,t,i){!e.isVisible&&e.t<se.b&&e.b>se.t&&(t&&(e.isVisible=!0),i&&e.visible(e))}function n(e,t,i){e.topIsVisible&&e.t<=se.t&&(t&&(e.topIsVisible=!1),i&&e.topOut(e))}function l(e,t,i){!e.topIsVisible&&e.t>se.t&&(t&&(e.topIsVisible=!0),i&&e.topIn(e))}function o(e,t,i){e.isVisible&&e.b<=se.t&&(t&&!e.up&&(e.isVisible=!1),i&&e.container.off("scroll",e.travel)),e.isVisible&&e.t>=se.b&&(t&&!e.down&&(e.isVisible=!1),i&&e.container.off("scroll",e.travel)),!e.isVisible&&e.t<se.b&&e.b>se.t&&(t&&!e.visible&&(e.isVisible=!0),i&&e.container.on("scroll",{delta:function(){return Math.round((se.t-(e.t-se.wh))/(e.h+se.wh)*100)/100},selection:e.selection,index:e.i,height:e.h},e.travel))}function a(e){e.checks=[],e.travel&&e.checks.push({fn:o,activate:!0,callback:!!e.travel}),(e.up||e.checkdown||e.visible)&&e.checks.push({fn:t,activate:!0,callback:!!e.up},{fn:i,activate:!0,callback:!!e.down},{fn:s,activate:!0,callback:!!e.visible}),(e.topOut||e.topIn)&&e.checks.push({fn:n,activate:!0,callback:!!e.topOut},{fn:l,activate:!0,callback:!!e.topIn})}function r(){se.t=$win.scrollTop(),se.b=se.t+se.wh;for(var e=0;e<se.items.length;e++)for(var t=se.items[e],i=0;i<t.ev.length;i++)(function(e){if(!e.disabled)for(var t=0;t<e.checks.length;t++){var i=e.checks[t];i.fn(e,i.activate,i.callback)}})(t.ev[i])}function c(){se.t=$win.scrollTop(),se.b=se.t+se.wh;for(var e=0;e<se.items.length;e++)for(var t=se.items[e],i=0;i<t.ev.length;i++)(function(e){if(!e.disabled)for(var t=0;t<e.checks.length;t++){var i=e.checks[t];i.fn(e,i.activate,!1)}})(t.ev[i])}function f(){se.wh=$win.height();for(var t=0;t<se.items.length;t++){var i=e(se.items[t]),s=i[0],n=i.outerHeight(),l=s.style.position,o=s.style.top;s.style.position=s.initialStates.position,s.style.top=s.initialStates.top;var a=Math.round(i.offset().top);s.style.position=l,s.style.top=o;for(var r=0;r<s.ev.length;r++){var c=s.ev[r];c.h=n,c.t=a-c.offset,c.b=c.t+c.h}}}function h(e){"update"==e?(f(),c()):(clearTimeout(u),u=setTimeout(function(){f(),$win.trigger("hardResize")},150))}function v(t,i,s,n){if("destroy"==i)$win.off("scroll",r).off("resize",h),window.items=[];else if("resize"==i)h();else if("trigger"==i)r("update");else if("update"==i)h("update");else if("disable"==i||"enable"==i||"remove"==i||"set"==i||"eval"==i){for(var t=e(t),l=[],a=0;a<t.length;a++){var c=t[a];if(c.ev)if("remove"==i)l.push(c);else for(var f=0;f<c.ev.length;f++){var v=c.ev[f];if("eval"==i){var u=n?n:s,b=n?s:!1;if(v[u]&&(!b||b&&b==v.flag))return"travel"==u?{data:{delta:function(){return Math.round((se.t-(v.t-se.wh))/(v.h+se.wh)*100)/100},selection:v.selection,index:v.i,height:v.h}}:v[u](v)}else s?v.flag==s&&("disable"==i?(v.disabled=!0,v.travel&&d.container.off("scroll",v.travel)):"enable"==i?(v.disabled=!1,v.travel&&(d.isVisible=!1,o(v,!0,!0))):"set"==i&&e.extend(!0,v,n)):"disable"==i?(v.disabled=!0,v.travel&&v.container.off("scroll",v.travel)):"enable"==i?(v.disabled=!1,v.travel&&(v.isVisible=!1,o(v,!0,!0))):"set"==i&&e.extend(!0,v,n)}}if("remove"==i){l.sort(function(e,t){return t.ev.se-e.ev.se});for(var p=0;p<l.length;p++){var d=l[p];d.ev&&!d.ev.once&&$win.off("scroll",d.ev.visibleFn),se.items.splice(d.ev.se,1)}for(var a=0;a<se.items.length;a++)se.items[a].ev.se=a}}return t}$win=e(window),window.se={items:[],t:$win.scrollTop(),b:$win.height(),wh:$win.height()},Function.prototype.clone=function(){var e=this,t=function(){return e.apply(this,arguments)};for(var i in this)this.hasOwnProperty(i)&&(t[i]=this[i]);return t},e.extend(e.fn,{scrollEvents:function(t,i,s){return"string"==typeof t?v(this,t,i,s):(e(this).each(function(i){var s=e.extend(!0,{selection:e(this),flag:!1,offset:0,visible:!1,up:!1,down:!1,topOut:!1,topIn:!1,travel:!1,isVisible:!1,topIsVisible:!1,container:$win,h:e(this).outerHeight(),t:0,b:e(this).outerHeight(),i:i,disabled:!1,checks:[]},t);s.travel=s.travel?t.travel.clone():!1,a(s);for(var n=!1,l=0;l<se.items.length;l++)se.items[l]==this&&(n=!0);n||(se.items.push(this),s.se=se.items.length,this.initialStates={position:e(this).css("position"),top:e(this).css("top")}),this.ev||(this.ev=[]),this.ev.push(s)}),$win.off("scroll",r).off("resize",h),$win.on("scroll",r).on("resize",h),this)}});var u;h()}(jQuery);