!function(e){function t(e,t,i){e.isVisible&&e.b<=se.t&&(t&&(e.isVisible=!1),i&&e.up(e))}function i(e,t,i){e.isVisible&&e.t>=se.b&&(t&&(e.isVisible=!1),i&&e.down(e))}function s(e,t,i){!e.isVisible&&e.t<se.b&&e.b>se.t&&(t&&(e.isVisible=!0),i&&e.visible(e))}function n(e,t,i){e.topIsVisible&&e.t<=se.t&&(t&&(e.topIsVisible=!1),i&&e.topOut(e))}function o(e,t,i){!e.topIsVisible&&e.t>se.t&&(t&&(e.topIsVisible=!0),i&&e.topIn(e))}function l(e,t,i){e.isVisible&&e.b<=se.t&&(t&&!e.up&&(e.isVisible=!1),i&&e.container.off("scroll",e.travel)),e.isVisible&&e.t>=se.b&&(t&&!e.down&&(e.isVisible=!1),i&&e.container.off("scroll",e.travel)),!e.isVisible&&e.t<se.b&&e.b>se.t&&(t&&!e.visible&&(e.isVisible=!0),i&&e.container.on("scroll",{delta:function(){return Math.round((se.t-(e.t-se.wh))/(e.h+se.wh)*100)/100},selection:e.selection,index:e.i,height:e.h},e.travel))}function a(){se.t=$win.scrollTop(),se.b=se.t+se.wh;for(var e=0;e<se.items.length;e++)for(var t=se.items[e],i=0;i<t.ev.length;i++)(function(e){if(!e.disabled)for(var t=0;t<e.checks.length;t++){var i=e.checks[t];i.fn(e,i.activate,i.callback)}})(t.ev[i])}function r(){se.t=$win.scrollTop(),se.b=se.t+se.wh;for(var e=0;e<se.items.length;e++)for(var t=se.items[e],i=0;i<t.ev.length;i++)(function(e){if(!e.disabled)for(var t=0;t<e.checks.length;t++){var i=e.checks[t];i.fn(e,i.activate,!1)}})(t.ev[i])}function c(){se.wh=$win.height();for(var t=0;t<se.items.length;t++){var i=e(se.items[t]),s=i[0],n=i.outerHeight(),o=s.style.position,l=s.style.top;s.style.position=s.initialStates.position,s.style.top=s.initialStates.top;var a=Math.round(i.offset().top);s.style.position=o,s.style.top=l;for(var r=0;r<s.ev.length;r++){var c=s.ev[r];c.h=n,c.t=a-c.offset,c.b=c.t+c.h}}}function f(e){"update"==e?(c(),r()):(clearTimeout(h),h=setTimeout(function(){c(),$win.trigger("hardResize")},150))}$win=e(window),window.se={items:[],t:$win.scrollTop(),b:$win.height(),wh:$win.height()},Function.prototype.clone=function(){var e=this,t=function(){return e.apply(this,arguments)};for(var i in this)this.hasOwnProperty(i)&&(t[i]=this[i]);return t},e.extend(e.fn,{scrollEvents:function(r,c,h){if("string"==typeof r){if("destroy"==r)$win.off("scroll",a).off("resize",f),window.items=[];else if("resize"==r)f();else if("trigger"==r)a("update");else if("update"==r)f("update");else if("disable"==r||"enable"==r||"remove"==r||"set"==r){for(var v=e(this),b=[],u=0;u<v.length;u++){var p=v[u];if(p.ev)if("remove"==r)b.push(p);else for(var d=0;d<p.ev.length;d++){var w=p.ev[d];c?w.flag==c&&("disable"==r||"enable"==r?w.disabled="disable"==r:"set"==r&&e.extend(!0,w,h)):"disable"==r||"enable"==r?w.disabled="disable"==r:"set"==r&&e.extend(!0,w,c)}}if("remove"==r){b.sort(function(e,t){return t.ev.se-e.ev.se});for(var g=0;g<b.length;g++){var m=b[g];m.ev&&!m.ev.once&&$win.off("scroll",m.ev.visibleFn),se.items.splice(m.ev.se,1)}for(var u=0;u<se.items.length;u++)se.items[u].ev.se=u}}return this}return e(this).each(function(a){var c=e.extend(!0,{selection:e(this),flag:!1,visible:!1,up:!1,down:!1,topOut:!1,topIn:!1,travel:!1,offset:0,isVisible:!1,topIsVisible:!1,container:$win,h:e(this).outerHeight(),t:0,b:e(this).outerHeight(),i:a,disabled:!1,checks:[]},r);c.travel=c.travel?r.travel.clone():!1,c.travel&&c.checks.push({fn:l,activate:!0,callback:!!c.travel}),(c.up||c.checkdown||c.visible)&&c.checks.push({fn:t,activate:!0,callback:!!c.up},{fn:i,activate:!0,callback:!!c.down},{fn:s,activate:!0,callback:!!c.visible}),(c.topOut||c.topIn)&&c.checks.push({fn:n,activate:!0,callback:!!c.topOut},{fn:o,activate:!0,callback:!!c.topIn});for(var f=!1,h=0;h<se.items.length;h++)se.items[h]==this&&(f=!0);f||(se.items.push(this),c.se=se.items.length,this.initialStates={position:e(this).css("position"),top:e(this).css("top")}),this.ev||(this.ev=[]),this.ev.push(c)}),$win.off("scroll",a).off("resize",f),$win.on("scroll",a).on("resize",f),this}});var h;f()}(jQuery);