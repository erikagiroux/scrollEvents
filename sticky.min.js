!function(t){function o(o){for(var e=o.data&&o.data.$selection?o.data.$selection:o,i=0;i<e.length;i++){for(var n=e[i],s=t(n),f=0;f<n.ev.length;f++)if("sticked"==n.ev[f].flag)var r=n.ev[f];r&&(n.$stickyClone=s.clone(),n.$stickyClone.insertBefore(s),n.$stickyClone[0].style.visibility="hidden",n.$stickyClone[0].style.position=n.initialStates.position,n.$stickyClone[0].style.top=n.initialStates.top,n.$stickyClone[0].style.marginBottom="-"+n.$stickyClone.outerHeight()+"px",r.topDown(t.extend({selection:n.$stickyClone},r)),window.raf.on("nextframe",{$el:s},function(t){var o=t.data.$el,e=o[0];o.scrollEvents("set","contained",{offset:-(r.container.outerHeight()-e.$stickyClone.position().top-e.$stickyClone.outerHeight()-r.offsetBottom)+r.offset}),e.$stickyClone.remove(),e.$stickyClone=void 0}))}}window.sticky={selection:[]},t.extend(t.fn,{sticky:function(e,i){var n=t(this),s=typeof e;if("update"==e&&o(n),"string"==s)return t(this).scrollEvents(e,i);var i=t.extend(!0,{container:!1,inverted:!1,offset:0,offsetBottom:0,reset:void 0,fixed:void 0,contained:void 0,fixedTop:void 0,fixedBottom:void 0,scrolling:void 0},e);if(i.inverted)n.scrollEvents({order:2,flag:"inverted sticky top",offset:i.offset,topUp:i.fixedTop}),n.scrollEvents({order:1,flag:"scrolling top",offset:i.offset,topDown:i.scrolling}),n.scrollEvents({order:1,flag:"scrolling bottom",offsetBottom:i.offsetBottom,bottomUp:i.scrolling}),n.scrollEvents({order:2,flag:"inverted sticky bottom",offsetBottom:i.offsetBottom,bottomDown:i.fixedBottom});else{for(var f=0;f<n.length;f++){var r=t(n[f]);r.scrollEvents({order:2,flag:"sticked",container:i.container,offset:i.offset,offsetBottom:i.offsetBottom,topDown:i.reset,topUp:i.fixed}),i.container&&r.scrollEvents({order:1,flag:"contained",offset:-(i.container.outerHeight()-r.position().top-r.outerHeight()-i.offsetBottom)+i.offset,container:i.container,topDown:i.fixed,topUp:i.contained})}i.container&&(o(n),window.raf.on("afterdocumentresize",{$selection:n},o))}}})}(jQuery);